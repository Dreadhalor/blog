"use strict";(self.webpackChunkthe_blog=self.webpackChunkthe_blog||[]).push([[7220],{6671:e=>{e.exports=JSON.parse("{\"blogPosts\":[{\"id\":\"/2024/04/20/movie-ticket\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/20/movie-ticket\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-20-movie-ticket/index.mdx\",\"source\":\"@site/blog/2024-04-20-movie-ticket/index.mdx\",\"title\":\"100 Days of Code 6: Movie Ticket\",\"description\":\"Let's do a more complicated one today. Here's the prompt:\",\"date\":\"2024-04-20T00:00:00.000Z\",\"tags\":[],\"readingTime\":1.055,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"nextItem\":{\"title\":\"100 Days of Code 5: Timer\",\"permalink\":\"/the-blog/blog/2024/04/19/timer\"}},\"content\":\"import { FigmaEmbed } from '@site/lib/figma-embed';\\nimport { CodeSandboxEmbed } from '@site/lib/code-sandbox-embed';\\nimport { MovieTicket } from './movie-ticket';\\n\\n\\nLet's do a more complicated one today. Here's the prompt:\\n\\n![Movie Ticket](./movie_ticket.webp)\\n\\n{/* truncate */}\\n\\n[**Challenge from ICodeThis**](https://icodethis.com/modes/design-to-code/64/submissions)\\n\\nOkay, let's start with a mockup in Figma:\\n\\n<FigmaEmbed url='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FQrKIAN97UZsjVjl5m8BnDD%2F100-Days-of-Code-6%253A-Movie-Ticket%3Ftype%3Ddesign%26node-id%3D0%253A1%26mode%3Ddesign%26t%3DUoAhHI6udkjm3TYn-1' />\\n<br />\\nOkay, now time to code!\\n\\n<MovieTicket />\\n<br />\\nTime! It was super late when I started so I did the seat grid in the morning,\\nbut with a ~good~ night's sleep the seat grid wasn't too bad. I love how I\\nthought the \\\"Screen\\\" graphic would be a drag but it turns out Figma generated an\\nsvg for me & I just copy+pasted the code & boom, done. Wild, yo.\\n\\n...speaking of time, I should actually start timing myself on these. Modern web dev is more about development speed than program speed at this point, after all.\\n\\n& I still have much to learn about fonts, because clearly even though I've improved a lot by using Figma to figure out fonts instead of just \\\"guessing\\\" in code, the font sizes I keep using are comically tiny & that's just odd.\\n\\nLast but not least, here's a CodeSandbox version of the code for you to look at yourself:\\n\\n<CodeSandboxEmbed\\n  url='https://codesandbox.io/embed/nntvs2?view=preview+%2B+preview&module=%2Fsrc%2Fmovie-ticket.tsx'\\n  title='movie-ticket'\\n/>\"},{\"id\":\"/2024/04/19/timer\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/19/timer\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-19-timer/index.mdx\",\"source\":\"@site/blog/2024-04-19-timer/index.mdx\",\"title\":\"100 Days of Code 5: Timer\",\"description\":\"Something a little simpler today, because I have spent the day working on a different project.\",\"date\":\"2024-04-19T00:00:00.000Z\",\"tags\":[],\"readingTime\":1.305,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 6: Movie Ticket\",\"permalink\":\"/the-blog/blog/2024/04/20/movie-ticket\"},\"nextItem\":{\"title\":\"100 Days of Code 4: Article Page\",\"permalink\":\"/the-blog/blog/2024/04/18/article-page\"}},\"content\":\"import { Timer } from './timer';\\n\\n\\nSomething a little simpler today, because I have spent the day working on a different project.\\n\\n![Timer](./timer.webp)\\n\\n{/* truncate */}\\n\\n[**Challenge from ICodeThis**](https://icodethis.com/modes/design-to-code/54/submissions)\\n\\nIronically I'm not really sure why I'd need to do this anyway because I'm already coding something else today, but I like the idea of having a deliverable every day.\\n\\n& we'll continue the trend of mocking it up in Figma first to get the styles right visually before we start coding.\\n\\nMockup:\\n\\n<iframe\\n  style={{\\n    border: '1px solid rgba(0, 0, 0, 0.1)',\\n  }}\\n  width='100%'\\n  height='450'\\n  src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FtNxTN2jcCei2U5igC8sfAc%2F100-Days-of-Code-5%253A-Timer%3Ftype%3Ddesign%26node-id%3D0%253A1%26mode%3Ddesign%26t%3Dz544cBlCT6LXKHEo-1'\\n  allowFullScreen\\n></iframe>\\n<br />\\nOkay, now time to code!\\n\\n<Timer />\\n<br />\\nIt is actually wild to me how easily & precisely I can take a design from Figma\\n& turn it into code. The novelty will probably become mundane soon, but for the\\ntime being it's just crazy that I can mock stuff up in Figma, think \\\"alright,\\nclose enough\\\" & then just plug in all the values for fonts & spacing into the\\ncode here & it looks more or less exactly the same on the first try. Lemme tell\\nya, I could get used to THAT.\\n\\nI probably could have added an actual count to this timer, but to be honest it's 2am & I just don't feel like it. Deliverables at all costs, baby!\\n\\nLast but not least, here's a CodeSandbox version of the timer that's mostly the same but with some minor font + color differences:\\n\\n<iframe\\n  src='https://codesandbox.io/embed/g4lzr3?view=editor+%2B+preview&module=%2Fsrc%2Ftimer.tsx'\\n  style={{\\n    width: '100%',\\n    height: '500px',\\n    border: '0',\\n    borderRadius: '4px',\\n  }}\\n  title='timer'\\n></iframe>\"},{\"id\":\"/2024/04/18/article-page\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/18/article-page\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-18-article-page/index.mdx\",\"source\":\"@site/blog/2024-04-18-article-page/index.mdx\",\"title\":\"100 Days of Code 4: Article Page\",\"description\":\"Okay, here's what we're making today:\",\"date\":\"2024-04-18T00:00:00.000Z\",\"tags\":[],\"readingTime\":3.375,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 5: Timer\",\"permalink\":\"/the-blog/blog/2024/04/19/timer\"},\"nextItem\":{\"title\":\"100 Days of Code 3: Movie Card\",\"permalink\":\"/the-blog/blog/2024/04/17/movie-card\"}},\"content\":\"import { ArticlePage } from './article-page';\\nimport './styles.css';\\n\\n\\nOkay, here's what we're making today:\\n\\n![Article Page](./article_page.webp)\\n\\n{/* truncate */}\\n\\nAs per usual, the challenge is from [ICodeThis](https://icodethis.com/modes/design-to-code/49/submissions).\\n\\n& today I want to do this differently. Before I code it, I want to make a\\nmock-up in Figma. Then, I can theoretically use that mock-up as a design\\nreference far more easily than I can the image ICodeThis provides. Plus, it will\\nget me one step closer to being able to design my projects in Figma first, then\\nin code second. Currently, I'm stuck having to design + code at the same time. &\\nthat's like... way, way harder than it needs to be. I don't how to use Figma,\\nbut hopefully this will only be super hard the first time.\\n\\nWithout further ado, here's my Figma mock-up:\\n\\n<iframe\\n  style={{\\n    border: '1px solid rgba(0, 0, 0, 0.1)',\\n  }}\\n  width='100%'\\n  height='450'\\n  src='https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F39ABvxaO36tLLFcjxfwMac%2F100-Days-of-Coding-4%253A-Article-Page%3Ftype%3Ddesign%26node-id%3D0%253A1%26mode%3Ddesign%26t%3DDgFcw7zvSsz33GUf-1'\\n  allowFullScreen\\n></iframe>\\n<br />\\nIt is legitimately hilarious that the nature of this blog makes it seem like I just\\nwent from \\\"I don't know how to use Figma!\\\" to \\\"Here's a competent mock-up in Figma.\\\"\\nIn literally one sentence, as if I didn't just spend hours reading Figma docs & messing\\naround with random crap until I learned enough to make that mockup.\\n\\nBUT, either way, I'm pleased with it looks. Now, let's code it up! So at this point\\nwe're basically just at the start of where we'd be normally, but now instead of arbitrarily\\nthrowing text styles into element tags, I can actually use the more consistent styles\\nI made in Figma. Biiig perk of being able to use Figma.\\n\\nNow the fun part is more configuration detours! Because I want each of these challenges\\nto be self-contained, I'm going to have to figure out how to use separate Tailwind\\nconfigs for each one. & the best for you, is that you don't need to do any of the\\nresearch or feel any time pass at all because I'm just gonna stop typing & do the\\nresearch myself right now until something works.\\n\\n**Okay,** I think we've got it. Tailwind has a neat directive, `@config`, that you\\ncan throw in a `.css` file that will let you use a different config file for that\\nspecific file. So I can just make a new base `styles.css` file & a new `tailwind.config.ts`\\nfile for each challenge, throw in the `@config` directive in that base `styles.css`\\nfile pointing to that project's `tailwind.config.ts` file, & then abra-kadabra now\\nI can use a different Tailwind config for each challenge.\\n\\nLooks like it's working! Okay, configuration detour over. Now let's actually code this thing up.\\n\\n<ArticlePage />\\n<br />& done! That was a very interesting process. I still used those cartoon avatars\\nbecause I hate searching for images in general, & DiceBear seems to make generate\\ndecent avatars on-the-fly. I feel like this was simpler than the last one yet it\\ntook a lot more work given the amount of configuration detours & incorporating a\\nnew tool (Figma) for protyping. But this was the first time I've put legitimate thought\\ninto fonts, so that's cool!\\n\\nOne last catch is that the example image was designed for desktop, & I'm sure there's\\nsome standardized way to make it responsive, but I'm not sure what that is yet. So\\nin the meantime, I just straight up coded this like normal & then put in the CSS\\nto scale the whole thing down to 60% so that it would fit on the screen here but\\nnot end up squishing the content to a mobile size. So I'll just leave it as is for\\nnow. I'm sure I'll learn how to make stuff like that responsive eventually.\\n\\nAnyway, for today here's the CodeSandbox of it. Turns out configuring Tailwind was\\neven more of a pain here than last time because of the additional theme customizations,\\nbut maybe tomorrow I'll do this without using the `@components` layer.\\n\\n<iframe\\n  src='https://codesandbox.io/embed/nfgh6z?view=editor+%2B+preview&module=%2Fsrc%2Farticle-page.tsx'\\n  style={{\\n    width: '100%',\\n    height: '500px',\\n    border: '0',\\n    borderRadius: '4px',\\n    overflow: 'hidden',\\n  }}\\n  title='article-page'\\n></iframe>\"},{\"id\":\"/2024/04/17/movie-card\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/17/movie-card\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-17-movie-card/index.mdx\",\"source\":\"@site/blog/2024-04-17-movie-card/index.mdx\",\"title\":\"100 Days of Code 3: Movie Card\",\"description\":\"Here's what we're making today:\",\"date\":\"2024-04-17T00:00:00.000Z\",\"tags\":[],\"readingTime\":0.62,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 4: Article Page\",\"permalink\":\"/the-blog/blog/2024/04/18/article-page\"},\"nextItem\":{\"title\":\"100 Days of Code 2: Collections List\",\"permalink\":\"/the-blog/blog/2024/04/16/collections-list\"}},\"content\":\"import { MovieCard } from './movie-card';\\n\\n\\nHere's what we're making today:\\n\\n![Movie Card](./movie_card.webp)\\n{/* truncate */}\\n\\nThe challenge is from [ICodeThis](https://icodethis.com/modes/design-to-code/57/submissions).\\n\\n& bada-boom:\\n\\n<MovieCard />\\n<br />\\nAs per usual, the text is super weird to figure out, but I'm generally happy\\nwith the result. Figuring out text is something Figma is usually good at, I\\nfigure, but I don't know how to use Figma.\\n\\nCome to think of it, why am I able to code this so easily, but not just use\\nFigma to make a mock-up? I should use these exercises as an opportunity to learn\\ngraphic design! I'll do that tomorrow, I think.\\n\\n& here's the CodeSandbox:\\n\\n<iframe\\n  src='https://codesandbox.io/embed/xpkny3?view=Editor+%2B+Preview&module=%2Fsrc%2Fmovie-card.tsx'\\n  style={{\\n    width: '100%',\\n    height: '500px',\\n    border: '0',\\n    borderRadius: '4px',\\n  }}\\n  title='movie-card'\\n></iframe>\"},{\"id\":\"/2024/04/16/collections-list\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/16/collections-list\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-16-collections-list/index.mdx\",\"source\":\"@site/blog/2024-04-16-collections-list/index.mdx\",\"title\":\"100 Days of Code 2: Collections List\",\"description\":\"Alright, let's make this today:\",\"date\":\"2024-04-16T00:00:00.000Z\",\"tags\":[],\"readingTime\":0.37,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 3: Movie Card\",\"permalink\":\"/the-blog/blog/2024/04/17/movie-card\"},\"nextItem\":{\"title\":\"100 Days of Code 1: Birthday List\",\"permalink\":\"/the-blog/blog/2024/04/15/birthday-list\"}},\"content\":\"import { CollectionsList } from './collections-list';\\n\\n\\nAlright, let's make this today:\\n\\n![Collections List](./collection_list.webp)\\n\\n{/* truncate */}\\n\\nLike yesterday, this challenge is from [ICodeThis](https://icodethis.com/modes/design-to-code/58/submissions).\\n\\n<CollectionsList />\\n<br />\\nGorgeous! We even got the background to look pretty identical. Now, here's a\\nCodeSandbox of the component for you to play with if you want to check out the\\ncode yourself:\\n\\n<iframe\\n  src='https://codesandbox.io/embed/wftwsy?view=Editor+%2B+Preview&module=%2Fsrc%2Fcollections-list.tsx'\\n  style={{\\n    width: '100%',\\n    height: '500px',\\n    border: '0',\\n    borderRadius: '4px',\\n    overflow: 'hidden',\\n  }}\\n  title='collections-list'\\n></iframe>\"},{\"id\":\"/2024/04/15/birthday-list\",\"metadata\":{\"permalink\":\"/the-blog/blog/2024/04/15/birthday-list\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-15-birthday-list/index.mdx\",\"source\":\"@site/blog/2024-04-15-birthday-list/index.mdx\",\"title\":\"100 Days of Code 1: Birthday List\",\"description\":\"Sup, yo. We're gonna make this today:\",\"date\":\"2024-04-15T00:00:00.000Z\",\"tags\":[],\"readingTime\":0.905,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 2: Collections List\",\"permalink\":\"/the-blog/blog/2024/04/16/collections-list\"},\"nextItem\":{\"title\":\"Sidebar File Browser\",\"permalink\":\"/the-blog/blog/fallcrate-sidebar-browser\"}},\"content\":\"import { BirthdayList } from './birthday-list';\\nimport Tabs from '@theme/Tabs';\\nimport TabItem from '@theme/TabItem';\\nimport LiveCodeExample from './_live-code-example.mdx';\\nimport CodeSandboxExample from './_codesandbox-example.mdx';\\n\\n\\nSup, yo. We're gonna make this today:\\n\\n![Birthday List](./birthday_list.webp)\\n\\n{/* truncate */}\\n\\nThis challenge is from [ICodeThis](https://icodethis.com/modes/design-to-code/39/submissions).\\n\\n& we're gonna use Tailwind, because it's as awesome as CSS files aren't.\\n\\n<BirthdayList />\\n\\n<br />\\n\\nSo there you go, it's basically the same thing but with the font looking less 'clean'\\nsomehow. I do not know how to do fonts, & for the time being I'll just have to live\\nwith that.\\n\\nSO, what did I learn today? I mostly knew how to code this pretty easily, but I did learn a bit about using Tailwind to make gradients & box shadows. Mostly, I learned a lot about very specific configurations pertaining to Docusaurus to display this code in the first place.\\n\\nIf you'd like to interact with the code for this yourself, you can check out some live coding examples below:\\n\\n<Tabs>\\n  <TabItem value='codesandbox' label='CodeSandbox (Recommended)'>\\n    <CodeSandboxExample />\\n  </TabItem>\\n  <TabItem value='live' label='Live Code (Locally Hosted)'>\\n    <LiveCodeExample />\\n  </TabItem>\\n</Tabs>\"},{\"id\":\"/fallcrate-sidebar-browser\",\"metadata\":{\"permalink\":\"/the-blog/blog/fallcrate-sidebar-browser\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/fallcrate-sidebar-browser/index.md\",\"source\":\"@site/blog/fallcrate-sidebar-browser/index.md\",\"title\":\"Sidebar File Browser\",\"description\":\"We'll start this off by abstracting a new component for this right out of the gate.\",\"date\":\"2024-04-14T12:42:47.000Z\",\"tags\":[],\"readingTime\":8.625,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"100 Days of Code 1: Birthday List\",\"permalink\":\"/the-blog/blog/2024/04/15/birthday-list\"},\"nextItem\":{\"title\":\"fallcrate\",\"permalink\":\"/the-blog/blog/fallcrate\"}},\"content\":\"We'll start this off by abstracting a new component for this right out of the gate.\\n\\nLet's create the new component at `src/components/sidebar-file-browser/sidebar-file-browser.tsx`, since I'm expecting to have more dedicated components inside of that file browser & it would be nice to group them together.\\n\\nWhile we're at it, let's just group together the previous BrowseActionBar & BrowseActionBarButton files into `src/components/browse-action-bar` as well.\\n\\n\x3c!-- truncate --\x3e\\n\\nOkay, now let's put in some boilerplate with `rafc`:\\n\\n```tsx\\n// src/components/sidebar-file-browser/sidebar-file-browser.tsx\\nimport React from 'react';\\n\\nexport const SidebarFileBrowser = () => {\\n  return <div>SidebarFileBrowser</div>;\\n};\\n```\\n\\n& we'll import the new SidebarFileBrowser into the root page.tsx & make the sidebar div a `flex-col`:\\n\\n```tsx\\n// src/app/page.tsx\\nimport { BrowseActionBar } from '@/components/browse-action-bar/browse-action-bar';\\nimport { SidebarFileBrowser } from '@/components/sidebar-file-browser/sidebar-file-browser';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='flex w-[240px] flex-col border-4'>\\n        SIDEBAR\\n        <SidebarFileBrowser />\\n      </div>\\n      <div className='flex-1 flex-col border-4'>\\n        <BrowseActionBar />\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nPerfect. Now additional code snippets can come from the SidebarFileBrowser file without needing to re-state too much code. Okay, now let's throw a border on it since we're in early dev & make it `flex-1`.\\n\\nOkay, with some styling here's where we're at. It's looking good:\\n\\n```tsx\\n// src/components/sidebar-file-browser/sidebar-file-browser.tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\n\\nexport const SidebarFileBrowser = () => {\\n  return (\\n    <div className='flex-1 border-2 border-blue-500'>\\n      <Button className='w-full justify-start rounded-none bg-transparent px-[16px] py-[6px] text-white hover:bg-gray-800'>\\n        All Files\\n      </Button>\\n    </div>\\n  );\\n};\\n```\\n\\nI do notice, however that the button is technically the trigger to an accordion that shows/hides the file browser. So let's look back to shadcn/ui & add the `Accordion` primitives.\\n\\n`pnpm dlx shadcn-ui@latest add accordion`\\n\\n& with the component installed, now the move is to once again grab the simplest example on the documentation page, copy+paste the code, then modify it to suit our purposes. Here's the first example on the [page for the accordion primitive:](https://ui.shadcn.com/docs/components/accordion)\\n\\n```tsx\\nimport {\\n  Accordion,\\n  AccordionContent,\\n  AccordionItem,\\n  AccordionTrigger,\\n} from '@/components/ui/accordion';\\n\\nexport function AccordionDemo() {\\n  return (\\n    <Accordion type='single' collapsible className='w-full'>\\n      <AccordionItem value='item-1'>\\n        <AccordionTrigger>Is it accessible?</AccordionTrigger>\\n        <AccordionContent>\\n          Yes. It adheres to the WAI-ARIA design pattern.\\n        </AccordionContent>\\n      </AccordionItem>\\n      <AccordionItem value='item-2'>\\n        <AccordionTrigger>Is it styled?</AccordionTrigger>\\n        <AccordionContent>\\n          Yes. It comes with default styles that matches the other\\n          components&apos; aesthetic.\\n        </AccordionContent>\\n      </AccordionItem>\\n      <AccordionItem value='item-3'>\\n        <AccordionTrigger>Is it animated?</AccordionTrigger>\\n        <AccordionContent>\\n          Yes. It's animated by default, but you can disable it if you prefer.\\n        </AccordionContent>\\n      </AccordionItem>\\n    </Accordion>\\n  );\\n}\\n```\\n\\nOkay, now let's analyze. It looks like this `Accordion` has multiple `AccordionItem` elements, & we only need one. So let's change that & throw it right under our button to see how it looks.\\n\\n```tsx\\n// src/components/sidebar-file-browser/sidebar-file-browser.tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\nimport {\\n  Accordion,\\n  AccordionContent,\\n  AccordionItem,\\n  AccordionTrigger,\\n} from '@ui/accordion';\\n\\nexport const SidebarFileBrowser = () => {\\n  return (\\n    <div className='flex-1 border-2 border-blue-500'>\\n      <Button className='w-full justify-start rounded-none bg-transparent px-[16px] py-[6px] text-white hover:bg-gray-800'>\\n        All Files\\n      </Button>\\n      <Accordion type='single' collapsible className='w-full'>\\n        <AccordionItem value='all-files'>\\n          <AccordionTrigger>All Files</AccordionTrigger>\\n          <AccordionContent>Woo, it is a content</AccordionContent>\\n        </AccordionItem>\\n      </Accordion>\\n    </div>\\n  );\\n};\\n```\\n\\nOkay, the good news is it functions. The bad news is it doesn't look right. We can make some changes, but you may notice that we never actually specified anything about the caret. So it would appear that shadcn/ui both made the executive decision to put the caret on the right side of the trigger, as well as alternate only between facing up & facing down. We want this to look differently in 2 ways:\\n\\n1. Put the caret on the left\\n2. Point the caret to the right when the folder is closed, & down when the folder is open.\\n\\n& also as a side note,\\n\\n3. it looks weird that the text is underlined on hover. But that's much easier to fix, so we'll focus on fixing problems 1 & 2 for now.\\n\\nSo, since we didn't specify anything about the caret yet the caret exists & reacts to interaction, that means shadcn/ui simply made an opinionated decision about the caret. But since we know that it's built on Radix-ui, we can go under-the-hood & modify shadcn/ui's `Accordion` with Radix-ui to behave more according to what we would like.\\n\\nSo, let's look at how shadcn/ui implements its accordion primitives:\\n\\n```tsx\\n// src/components/ui/accordion.tsx\\n'use client';\\n\\nimport * as React from 'react';\\nimport * as AccordionPrimitive from '@radix-ui/react-accordion';\\nimport { ChevronDownIcon } from '@radix-ui/react-icons';\\n\\nimport { cn } from '@/lib/utils';\\n\\nconst Accordion = AccordionPrimitive.Root;\\n\\nconst AccordionItem = React.forwardRef<\\n  React.ElementRef<typeof AccordionPrimitive.Item>,\\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\\n>(({ className, ...props }, ref) => (\\n  <AccordionPrimitive.Item\\n    ref={ref}\\n    className={cn('border-b', className)}\\n    {...props}\\n  />\\n));\\nAccordionItem.displayName = 'AccordionItem';\\n\\nconst AccordionTrigger = React.forwardRef<\\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\\n>(({ className, children, ...props }, ref) => (\\n  <AccordionPrimitive.Header className='flex'>\\n    <AccordionPrimitive.Trigger\\n      ref={ref}\\n      className={cn(\\n        'flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',\\n        className,\\n      )}\\n      {...props}\\n    >\\n      {children}\\n      <ChevronDownIcon className='text-muted-foreground h-4 w-4 shrink-0 transition-transform duration-200' />\\n    </AccordionPrimitive.Trigger>\\n  </AccordionPrimitive.Header>\\n));\\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\\n\\nconst AccordionContent = React.forwardRef<\\n  React.ElementRef<typeof AccordionPrimitive.Content>,\\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\\n>(({ className, children, ...props }, ref) => (\\n  <AccordionPrimitive.Content\\n    ref={ref}\\n    className='data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm'\\n    {...props}\\n  >\\n    <div className={cn('pb-4 pt-0', className)}>{children}</div>\\n  </AccordionPrimitive.Content>\\n));\\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\\n\\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\\n```\\n\\nAh, it looks like the `AccordionTrigger` component is what we should be zooming in on. Firstly, the `ChevronDownIcon` is listed after the `children`, which will put it to the right of the `children`. Let's swap that around.\\n\\nOkay, that works. Now let's fix the spacing so that the trigger uses `justify-start` instead of `justify-between` to justify the children, because we don't want the children to be split on each end of the trigger.\\n\\nGreat! Now let's handle the orientation of the `ChevronDownIcon`. We can see that Tailwind is being used to rotate it based on the `[&[data-state=open]>svg]` selector to target svgs inside of the trigger (with the `ChevronDownIcon` being the only one). So, with that in mind, let's change the angle so that when the accordion is open, the `ChevronDownIcon` is pointing down. Which, coincidentally, is the same thing as just not rotating it because the icon is already pointing down, hence it being `ChevronDownIcon`. So what we're going to do to handle when the Accordion is closed, is to use the same selector but looking for `data-state=closed` instead. We'll set the angle of rotation in that case to be -90 degrees, which in Tailwind syntax translates to `-rotate-90`.\\n\\nOkay, it's looking good! Let's just remove the `hover:underline` class now because that looks weird.\\n\\nGreat! & now let's fix the padding, the hover color & the text color. I don't know why the caret is set to be a different color from the text, but let's fix that to make all the colors uniform. I also notice that the text is muted by default but turns white on hover, so let's add that.\\n\\nGreat, now our \\\"All Files\\\" accordion trigger looks phenomenal. Here's what we got:\\n\\n```tsx\\nconst AccordionTrigger = React.forwardRef<\\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\\n>(({ className, children, ...props }, ref) => (\\n  <AccordionPrimitive.Header className='flex'>\\n    <AccordionPrimitive.Trigger\\n      ref={ref}\\n      className={cn(\\n        'text-muted-foreground flex flex-1 items-center justify-start gap-2 px-[16px] py-[6px] text-sm font-medium transition-all hover:bg-gray-800 hover:text-white [&[data-state=closed]>svg]:-rotate-90',\\n        className,\\n      )}\\n      {...props}\\n    >\\n      <ChevronDownIcon className='h-4 w-4 shrink-0 transition-transform duration-200' />\\n      {children}\\n    </AccordionPrimitive.Trigger>\\n  </AccordionPrimitive.Header>\\n));\\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\\n```\\n\\nOkay, cool. Now we notice that every folder in the 'All Files' accordion is, itself, also an accordion. With slightly different styling. Hopefully that's not gonna be super annoying.\\n\\nTo start with, let's just mock some data. We'll create an array of strings & treat that as the filenames of various folders. & just to make this easier to nest, we'll create a new component for this - SidebarFolder.\\n\\nOkay, looks like we'll have to fix some borders & bottom padding to nest these properly.\\n\\nAlright, now it's looking pretty decent. We still need to indent each one, so we'll do that now. That is, unfortunately, one of the few issues with Tailwind. You can't use variable classnames. But we can wrap the children in a `div` & style that div with inline CSS.\\n\\n...ah. So it looks like we have a problem. The padding is properly applied to the folder name, but not to the caret. We'll have to break up the `AccordionTrigger` primitive a bit more if we want to wrap the caret inside of the div as well. It's a little inconvenient, but it's not actually a real problem when it comes down to it because we were gonna have to do that anyway if we wanted to add various visual flares such as the caret changing color on hover separately from the trigger, or for that matter if we want to separate the caret itself as a trigger & make the rest of the `Accordion` header not be a trigger. So it was only a matter of time.\\n\\nOkay, great, it all works if I split out the Chevron into a separate component. I didn't actually split up the Accordion `Trigger` & `Header` primitives, but I don't think I care about that yet. Now let's just throw some icons in there to match Dropbox.\\n\\nThat's actually hilarious. So it looks like because the icon is technically an SVG, now the folder icon rotates when the Accordian opens & closes. We can fix this by using some Tailwind `group-` selectors, fortunately, so let's do that.\\n\\nGreat, it's all looking good! Now, Dropbox doesn't do this, but I don't like that empty folders still get Chevron icons. So let's replace the Chevron with a dot for folders that don't have child folders. We'll use the BsDot icon.\\n\\nLooks awesome! There is some weirdness in that closing a folder closes all child folders too, & that seems unintuitive to me. Offhand, let's just see if we can fix that by making `SidebarFolder` a controlled accordion.\\n\\nAh, okay, so it looks like it's an issue with the `AccordionContent` being unmounted on collapse & losing the internal state of whether or not it's open. Realistically I think the easiest way to solve this is by making them controlled accordions, & to do that in a scalable manner, that's going to require a provider. Which, technically, we may as well make since we actually don't have anything else to work on for this component. It will make it easier to mock data as well, since we can just mock it in the provider & then access it anywhere.\"},{\"id\":\"/fallcrate\",\"metadata\":{\"permalink\":\"/the-blog/blog/fallcrate\",\"editUrl\":\"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/fallcrate/index.md\",\"source\":\"@site/blog/fallcrate/index.md\",\"title\":\"fallcrate\",\"description\":\"1. Set up Next.js (v14 at time of writing)\",\"date\":\"2024-04-14T03:41:29.000Z\",\"tags\":[],\"readingTime\":37.535,\"hasTruncateMarker\":true,\"authors\":[],\"frontMatter\":{},\"unlisted\":false,\"prevItem\":{\"title\":\"Sidebar File Browser\",\"permalink\":\"/the-blog/blog/fallcrate-sidebar-browser\"}},\"content\":\"## 1. Set up Next.js (v14 at time of writing)\\n\\n- `pnpm dlx create-next-app@latest`\\n  - we use pnpm because I like it, but this can all be done with npm as well\\n  - app name: fallcrate-tutorial\\n  - use Typescript (because type-safety ftw)\\n  - use eslint (just because)\\n  - use TailwindCSS (because it's amazing)\\n  - use /src (because it nicely separates configs from code)\\n  - use app router (because it's cool)\\n  - use default alias (because I don't have a good reason to the contrary)\\n- sanity check\\n  - `pnpm dev`\\n  - check http://localhost:3000\\n  - it runs, yay!\\n- replace homepage with, like, anything\\n\\n  ```tsx\\n  // src/app/page.tsx\\n  export default function Home() {\\n    return (\\n      <main className='flex min-h-screen flex-col items-center justify-between p-24'>\\n        If you can&apos;t tell the difference between a spoon and a ladle, then\\n        you&apos;re fat\\n      </main>\\n    );\\n  }\\n  ```\\n\\n  - side note: we use `&apos;` for apostrophes because of sanitized inputs or something\\n  - check that the changes are reflected - yay, they are\\n\\n\x3c!-- truncate --\x3e\\n\\n- now is a bit of a personal choice: we're going to mock layouts before we actually plug in any infrastructure\\n  - this should make it a little less intimidating\\n  - it does come at the cost of having to configure dependencies in a slightly more complex codebase, but it shouldn't be too bad\\n  - I will also include installation of dependencies in a fresh project in a separate section for those who want to do it that way\\n- create new route for layout testing\\n\\n  - this is one reason why the app router is very nice, creating new routes just to test stuff is braindead simple\\n  - create `src/app/test/page.tsx`\\n\\n    - you can either create a file in `src/app` named `test/page.tsx` or you can manually create the `test` directory & then the `page.tsx` file, these are equivalent but the first option is a shortcut\\n    - make `page.tsx` a default export filler component:\\n\\n    ```tsx\\n    // src/app/test/page.tsx\\n    import React from 'react';\\n\\n    const Page = () => {\\n      return (\\n        <div>\\n          They say that money talks, but all mine says is &apos;Goodbye!&apos;\\n        </div>\\n      );\\n    };\\n\\n    export default Page;\\n    ```\\n\\n    - sanity check: view the route at `/test`\\n\\n## 2. Design time, I guess?\\n\\n- Pull up actual Dropbox - this provides 2 advantages:\\n\\n  - A quick template we can copy on desktop\\n  - Automatic reference for responsive design\\n\\n- Pick the most obvious page division to start at - I first notice the sidebar + main content division\\n- Let's create that division (in the test route, just to keep it sandboxed):\\n\\n  - step 1, put borders on things\\n  - step 2, notice that the content is not as big as you thought it was & investigate\\n\\n    - the fix: make the `body` tag h-screen (needs to be h-screen instead of min-h-screen so that h-full works in its children, it's a quirk of CSS height)\\n\\n    ```tsx\\n    // src/app/layout.tsx\\n    import type { Metadata } from 'next';\\n    import { Inter } from 'next/font/google';\\n    import './globals.css';\\n\\n    const inter = Inter({ subsets: ['latin'] });\\n\\n    export const metadata: Metadata = {\\n      title: 'Create Next App',\\n      description: 'Generated by create next app',\\n    };\\n\\n    export default function RootLayout({\\n      children,\\n    }: Readonly<{\\n      children: React.ReactNode;\\n    }>) {\\n      return (\\n        <html lang='en'>\\n          <body className={`${inter.className} h-screen`}>{children}</body>\\n        </html>\\n      );\\n    }\\n    ```\\n\\n    - we're using string interpolation for now, which I despise, but we'll fix that later when we install a dependency (shadcn-ui)\\n    - now any child can have h-full & it'll adapt to the screen height\\n\\n    ```tsx\\n    // src/app/test/page.tsx\\n    import React from 'react';\\n\\n    const Page = () => {\\n      return (\\n        <div className='h-full border'>\\n          They say that money talks, but all mine says is &apos;Goodbye!&apos;\\n        </div>\\n      );\\n    };\\n\\n    export default Page;\\n    ```\\n\\n    - & now the content size looks as it should\\n\\n  - step 3, actually create the containers\\n    - Still using Dropbox as a reference\\n    - Make sure to 'inspect element' to check sizes & colors when necessary\\n    - Sidebar appears to be 240px - use the `w-[240px]` class\\n    - Main content fills remaining width - use the `flex-1` class\\n\\n- Now, time to make ui components - shadcn/ui to the rescue\\n\\n## 3. Set up shadcn/ui\\n\\n- what is shadcn/ui? It is a set of component primitives built on Radix-ui, TailwindCSS & class-variance-authority designed to make crafting custom components way, way faster whilst also being accessibility-friendly\\n- VERY IMPORTANT POINT: do NOT treat the primitives it provides as gospel, they are meant to be easily modified\\n- We will, in fact, be changing them & in some cases going under-the-hood to leverage Radix-ui when shadcn/ui makes architectural choices I don't personally agree with. But I will ensure you very deeply understand my rationale when this happens.\\n- go to https://ui.shadcn.com/\\n- navigate to /docs/installation/next & check the tutorial:\\n\\n  1. We skip this, we already have a Next.js project set up\\n  2. Run the cli, but for pnpm (sorry, I like pnpm): `pnpm dlx shadcn-ui@latest init`\\n  3. Answer the prompts to configure `components.json`, which is basically shadcn/ui's configuration file used when adding a new component - there are reasons to touch this, but for this project we will not need to\\n     - `Which style would you like to use? \u203a New York` (literally just because I like it slightly more than default)\\n     - `Which color would you like to use as base color? \u203a Slate` (because I don't care about colors)\\n     - `Do you want to use CSS variables for colors? \u203a yes` (because CSS variables are cool, even though we won't really do anything cool with them)\\n  4. Optionally, use shadcn/ui's configuration for font in `/src/app/layout.tsx` - not really a big deal, but it seems like a good way to set it up & it shows you how we can replace the string interpolation with the new `cn` utility we can now use.\\n\\n     - here we incorporate shadcn/ui's code with our own:\\n\\n     ```tsx\\n     // src/app/layout.tsx\\n     import type { Metadata } from 'next';\\n     import { Inter as FontSans } from 'next/font/google';\\n     import { cn } from '@/lib/utils';\\n     import '@/app/globals.css';\\n\\n     const fontSans = FontSans({\\n       subsets: ['latin'],\\n       variable: '--font-sans',\\n     });\\n\\n     export const metadata: Metadata = {\\n       title: 'Create Next App',\\n       description: 'Generated by create next app',\\n     };\\n\\n     export default function RootLayout({\\n       children,\\n     }: Readonly<{\\n       children: React.ReactNode;\\n     }>) {\\n       return (\\n         <html lang='en'>\\n           <body\\n             className={cn(\\n               'bg-background h-screen font-sans antialiased',\\n               fontSans.variable,\\n             )}\\n           >\\n             {children}\\n           </body>\\n         </html>\\n       );\\n     }\\n     ```\\n\\n  - also we make sure to incorporate the font-family into our tailwind.config.ts:\\n\\n  ```ts\\n  // tailwind.config.ts\\n  import type { Config } from 'tailwindcss';\\n  import { fontFamily } from 'tailwindcss/defaultTheme';\\n\\n  const config = {\\n    darkMode: ['class'],\\n    content: [\\n      './pages/**/*.{ts,tsx}',\\n      './components/**/*.{ts,tsx}',\\n      './app/**/*.{ts,tsx}',\\n      './src/**/*.{ts,tsx}',\\n    ],\\n    prefix: '',\\n    theme: {\\n      container: {\\n        center: true,\\n        padding: '2rem',\\n        screens: {\\n          '2xl': '1400px',\\n        },\\n      },\\n      extend: {\\n        fontFamily: {\\n          sans: ['var(--font-sans)', ...fontFamily.sans],\\n        },\\n        colors: {\\n          border: 'hsl(var(--border))',\\n          input: 'hsl(var(--input))',\\n          ring: 'hsl(var(--ring))',\\n          background: 'hsl(var(--background))',\\n          foreground: 'hsl(var(--foreground))',\\n          primary: {\\n            DEFAULT: 'hsl(var(--primary))',\\n            foreground: 'hsl(var(--primary-foreground))',\\n          },\\n          secondary: {\\n            DEFAULT: 'hsl(var(--secondary))',\\n            foreground: 'hsl(var(--secondary-foreground))',\\n          },\\n          destructive: {\\n            DEFAULT: 'hsl(var(--destructive))',\\n            foreground: 'hsl(var(--destructive-foreground))',\\n          },\\n          muted: {\\n            DEFAULT: 'hsl(var(--muted))',\\n            foreground: 'hsl(var(--muted-foreground))',\\n          },\\n          accent: {\\n            DEFAULT: 'hsl(var(--accent))',\\n            foreground: 'hsl(var(--accent-foreground))',\\n          },\\n          popover: {\\n            DEFAULT: 'hsl(var(--popover))',\\n            foreground: 'hsl(var(--popover-foreground))',\\n          },\\n          card: {\\n            DEFAULT: 'hsl(var(--card))',\\n            foreground: 'hsl(var(--card-foreground))',\\n          },\\n        },\\n        borderRadius: {\\n          lg: 'var(--radius)',\\n          md: 'calc(var(--radius) - 2px)',\\n          sm: 'calc(var(--radius) - 4px)',\\n        },\\n        keyframes: {\\n          'accordion-down': {\\n            from: { height: '0' },\\n            to: { height: 'var(--radix-accordion-content-height)' },\\n          },\\n          'accordion-up': {\\n            from: { height: 'var(--radix-accordion-content-height)' },\\n            to: { height: '0' },\\n          },\\n        },\\n        animation: {\\n          'accordion-down': 'accordion-down 0.2s ease-out',\\n          'accordion-up': 'accordion-up 0.2s ease-out',\\n        },\\n      },\\n    },\\n    plugins: [require('tailwindcss-animate')],\\n  } satisfies Config;\\n\\n  export default config;\\n  ```\\n\\n  - Sanity check, look back at http://localhost:3000/test\\n    - it is still structured correctly but the colors aren't right any more, but that's fine because we simply are using light mode by default. To switch to dark mode, we add the `dark` class to the `html` tag.\\n    - From here on out, we'll be modifying dark mode CSS variables (when we need to) since we're using dark mode\\n\\n  5. Ignore this, it's more of a recommendation & we're largely following it already. globals.css isn't in the `styles` directory, but I don't care\\n  6. We're done! We can now add components. Time to start building.\\n\\n## 4. Start building random stuff (this will be very large)\\n\\n### The browse-action-bar\\n\\n![Browse Action Bar](./browse-action-bar.png)\\nWhy are we calling it that? Because Dropbox called it that. Why did Dropbox call it that? I don't know, I don't work at Dropbox. If they're hiring I wouldn't say no, though.\\n\\nFirst, however, we have to think about some of the design choices made here. For instance, the 'Create' button. It's the primary call-to-action button of the menu, but if we click on it, we see that it doesn't do anything that is both relevant to file uploads & non-redundant to the 'Upload' button right next to it. The features it advocates for are outside of the scope of this project & as such, we will remove it.\\n\\nSince the primary feature of this app is document uploads rather than document creation, we will actually make the primary call-to-action button the 'Upload' button instead.\\n\\nShadcn/ui has some tools to make creating these buttons easier, but we will still need to customize it. We'll start by adding the Button primitive from the command line in the root of the project:\\n\\n`pnpm dlx shadcn-ui@latest add button`\\n\\nCool, now we have a Button primitive we can extend + customize in `src/components/ui/button.tsx`. However, as we make more components on top of shadcn/ui primitives, we will throw them outside of the `ui` folder in the `src/components` folder to distinguish between component primitives & components. So, we'll start with the browse-action-bar buttons.\\n\\nHere it's important to note that we are using a shortcut from the react snippets VSCode extension. Specifically, `rafc` to create a React component that is exported as a named export. I've seen most projects that use default exports for components, & I just don't like that for no particular reason so I don't do it. I make an exception for app router pages, but that's because Next.js kinda forces me to because it displays the page as whatever the default export from `page.tsx` is.\\n\\nAnyway, here's our starter button:\\n\\n```tsx\\n// src/components/browse-action-bar-button.tsx\\nimport React from 'react';\\n\\nexport const BrowseActionBarButton = () => {\\n  return <div>BrowseActionBarButton</div>;\\n};\\n```\\n\\nI know, it's almost scary how advanced this code is.\\n\\nSide note: You may be familiar with most React projects + tutorials that use PascalCase for component filenames. I do NOT use PascalCase for component filenames. I use kebab-case. This is literally just because MacOS is dumb & the filesystem in git is case-insensitive for filenames which means if I change `App.tsx` to `app.tsx`, git does not think anything has changed & the Github repo end up not matching with my local filesystem any time I change the case of a filename. It's a big headache so to get around this, I've just decided capital letters are banned from filenames in my projects now. Of course, with some obvious exceptions for things that are expected to be a particular case like `README.md` or `Dockerfile`. But if it's at all a stylistic choice, then I use exclusively kebab-case for filenames.\\n\\nAnyway, let's make a button!\\n\\nWe'll start with the default Button primitive. & remember, we're temporarily using borders around stuff just because I like seeing them when I'm in the middle of development. We remove the borders when we feel confident we don't need them anymore.\\n\\nAlright, here's a quick sanity check for putting a button in there.\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport React from 'react';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex border border-blue-500'>\\n          <BrowseActionBarButton>Hey yo</BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\n```tsx\\n// src/components/browse-action-bar-button.tsx\\nimport React from 'react';\\nimport { Button } from '@/components/ui/button';\\n\\ntype Props = {\\n  children: React.ReactNode;\\n};\\nexport const BrowseActionBarButton = ({ children }: Props) => {\\n  return <Button>{children}</Button>;\\n};\\n```\\n\\nGreat, now we have a completely ill-matching button on the page. But it's OUR completely ill-matching button on the page.\\n\\nSide note: We're gonna end up having to import stuff from `@/components/ui` a LOT, so to add just a bit more convenience let's create an alias for `@/components/ui`. As you can see, we're already using an alias for `src` because `@` is not actually a file path. So if we look where `@` is defined as the alias for the `src` directory, we can just add another alias for the `src/components/ui` (aka `@/components/ui`) directory.\\n\\n#### Creating an alias:\\n\\nWe can see the alias for `src` configured in the `tsconfig.json` file:\\n\\n```ts\\n{\\n  \\\"compilerOptions\\\": {\\n    \\\"lib\\\": [\\\"dom\\\", \\\"dom.iterable\\\", \\\"esnext\\\"],\\n    \\\"allowJs\\\": true,\\n    \\\"skipLibCheck\\\": true,\\n    \\\"strict\\\": true,\\n    \\\"noEmit\\\": true,\\n    \\\"esModuleInterop\\\": true,\\n    \\\"module\\\": \\\"esnext\\\",\\n    \\\"moduleResolution\\\": \\\"bundler\\\",\\n    \\\"resolveJsonModule\\\": true,\\n    \\\"isolatedModules\\\": true,\\n    \\\"jsx\\\": \\\"preserve\\\",\\n    \\\"incremental\\\": true,\\n    \\\"plugins\\\": [\\n      {\\n        \\\"name\\\": \\\"next\\\"\\n      }\\n    ],\\n    \\\"paths\\\": {\\n      \\\"@/*\\\": [\\\"./src/*\\\"]\\n    }\\n  },\\n  \\\"include\\\": [\\\"next-env.d.ts\\\", \\\"**/*.ts\\\", \\\"**/*.tsx\\\", \\\".next/types/**/*.ts\\\"],\\n  \\\"exclude\\\": [\\\"node_modules\\\"]\\n}\\n```\\n\\nSo we can see right there in the `paths` field of the `compilerOptions` object that `@/*` is defined as the alias for `./src/*`. Here, the wildcard (`*`) just means 'we don't care what comes after this, just replace any path that starts with `@/` with `./src/` when compilation is happening.' It's something that affects literally no one but the coder, & I love it because I am the coder & it therefore affects me. Now, let's add another alias, but this time for the `./src/components/ui/` directory because I don't want to keep typing that every time I reference a ui primitive. Let's just stick with the same theme completely arbitrarily & call it `@ui`. So change the `paths` object to:\\n\\n```ts\\n\\\"paths\\\": {\\n  \\\"@/*\\\": [\\\"./src/*\\\"],\\n  \\\"@ui/*\\\": [\\\"./src/components/ui/*\\\"]\\n}\\n```\\n\\nSide note: you may also notice that instead of a `string`-`string` mapping, the `paths` object is technically a `string`-`string[]` mapping. I have never had to care about why this is, & for this project neither will you. Just put the alias in an array of length 1 because that's the convention.\\n\\nBut now that the alias is configured, we can use it in our `BrowseActionBarButton` component!\\n\\n```tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\n\\ntype Props = {\\n  children: React.ReactNode;\\n};\\nexport const BrowseActionBarButton = ({ children }: Props) => {\\n  return <Button>{children}</Button>;\\n};\\n```\\n\\nYay, absolutely nothing has changed on the client side but we will get to use marginally shorter path names when referencing ui primitives!\\n\\nOkay, configuration detour over. Now let's actually make this button look like it belongs here. To do this, we'll be overriding some of the button primitives defined in `buttonVariants`. This is a very neat feature of cva (class-variance-authority) because not only does it allow us to define button styles as simple variants, but it allows us to have compound variants & we can use the classNames separately to pass into other components such as React's `Link` component to have `Link`s that look exactly like buttons. & because we're using the `cn` utility, we are able to override any styles we want in order to stick buttons with slightly modified styles anywhere we need to. Neat!\\n\\nSince we're on the topic, we may as well go over the `cn` utility added by shadcn/ui because it's really quite awesome:\\n\\n```ts\\n// src/lib/utils.ts\\nimport { type ClassValue, clsx } from 'clsx';\\nimport { twMerge } from 'tailwind-merge';\\n\\nexport function cn(...inputs: ClassValue[]) {\\n  return twMerge(clsx(inputs));\\n}\\n```\\n\\nSo we can see that under-the-hood, calling `cn` is just a way of calling `clsx` & then `twMerge` on any classname or array of classnames.\\n\\nHere's why that's awesome:\\n\\n#### `clsx`: Allows for us to declare classnames conditionally without having to worry about making sure everything is concatenated & formatted properly. We can simply say:\\n\\n```ts\\nimport { clsx } from 'clsx';\\n\\nconst primary = false;\\nclsx(\\n  'h-12 w-12',\\n  primary && 'bg-blue-500',\\n  !primary && 'bg-transparent border',\\n);\\n//=> 'h-12 w-12 bg-transparent border'\\n```\\n\\nAs such, `clsx` makes it extremely easy to manage conditional styles for things like variants.\\n\\n#### `twMerge`: Allows for us to efficiently merge Tailwind utility classes so that we can override previous classes simply by appending new ones. For example:\\n\\n```tsx\\nimport { twMerge } from 'tailwind-merge';\\n\\ntwMerge('px-2 py-1 bg-red hover:bg-dark-red', 'p-3 bg-[#B91C1C]');\\n//=> 'hover:bg-dark-red p-3 bg-[#B91C1C]'\\n```\\n\\n& while here it's used somewhat trivially, it's extraordinarily useful when applied to component primitives. As long as we style primitives strictly with Tailwind classes, then we can override any conflicting primitive styles simply by passing in new classnames to whatever HOC we're building on top of the primitives & appending them to the primitive's classnames. Instead of having to deal with CSS class specifity & order of declaration, we simply at the level of Javascript can let `twMerge` say \\\"hey, if you want to use `p-3` after already declaring `px-2 py-1`, then we'll just drop `px-2 py-1` & keep `p-3`\\\". It's dope, yo.\\n\\n& then we combine their powers into the `cn` utility whenever we need to extend or conditionally apply Tailwind styles, because it is functionally literally just an alias to say \\\"use `clsx` & then `twMerge` on this list of classnames\\\".\\n\\nNow, since we now understand why the `cn` util is so awesome, let's look back at `cva`.\\n\\nHere we can see the buttonVariants in the button primitive at `src/components/ui/button.tsx`, constructed using `cva`:\\n\\n```tsx\\n// src/components/ui/button.tsx\\n\\n// ...\\nconst buttonVariants = cva(\\n  'focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50',\\n  {\\n    variants: {\\n      variant: {\\n        default:\\n          'bg-primary text-primary-foreground hover:bg-primary/90 shadow',\\n        destructive:\\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm',\\n        outline:\\n          'border-input bg-background hover:bg-accent hover:text-accent-foreground border shadow-sm',\\n        secondary:\\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm',\\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\\n        link: 'text-primary underline-offset-4 hover:underline',\\n      },\\n      size: {\\n        default: 'h-9 px-4 py-2',\\n        sm: 'h-8 rounded-md px-3 text-xs',\\n        lg: 'h-10 rounded-md px-8',\\n        icon: 'h-9 w-9',\\n      },\\n    },\\n    defaultVariants: {\\n      variant: 'default',\\n      size: 'default',\\n    },\\n  },\\n);\\n\\n// ...\\n```\\n\\nOne big drawback to `cva` is that it doesn't use any utility to intelligently merge classnames, but we can achieve that on our own by just wrapping it in `cn` ourselves when necessary to override styles it declares that conflict with Buttons we build on top of these primitive classnames. & even at that rate, `cva` has a beta now that allows us to natively use the `cn` utility when we call it, but we don't need to use that for this project.\\n\\nOkay - now, since this is a somewhat specific button & we're not expecting a bunch of buttons throughout the app to all be `BrowseActionBarButton`s, we'll just use the `cn` utility to override these styles when necessary, using Dropbox's primary call-to-action button as a reference. We're more just viewing these primitive styles now to understand what styles we're overriding.\\n\\n```tsx\\n// src/components/browse-action-bar-button.tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\n\\ntype Props = {\\n  children: React.ReactNode;\\n};\\nexport const BrowseActionBarButton = ({ children }: Props) => {\\n  return (\\n    <Button className='h-[76px] w-[140px] items-center justify-start rounded-none bg-blue-500 p-[12px] hover:bg-blue-600'>\\n      {children}\\n    </Button>\\n  );\\n};\\n```\\n\\nIt's worth noting here that because we didn't specify a `variant` prop for the `Button`, `cva` will automatically apply the styles from `variants.variant.default` & `variants.size.default` (as well as the base styles from the first argument in the `cva` function), as defined in `defaultVariants`. These, specifically, are the styles we will have to override with the `cn` util (when they conflict with how we want our `BrowseActionBarButton`s to look).\\n\\nWhat is effectively happening under-the-hood in this Button component is this:\\n\\n```tsx\\n<button\\n  className={cn(\\n    // base styles from buttonVariants\\n    'focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50'\\n      // buttonVariants.variants.variant.default styles\\n      .concat(\\n        ' ',\\n        'bg-primary text-primary-foreground hover:bg-primary/90 shadow',\\n      )\\n      // buttonVariants.variants.size.default styles\\n      .concat(' ', 'h-9 px-4 py-2'),\\n    // finally, the actual className prop we passed to the Button component\\n    'h-[76px] w-[140px] items-center justify-start rounded-none bg-blue-500 p-[12px] hover:bg-blue-600',\\n  )}\\n>\\n  {children}\\n</button>\\n```\\n\\nAs you can see, `cva` basically just appends all relevant styles to each other & creates one long string (which may have conflicting classnames, but that's another discussion. `cva` has a beta out now that allows us to get around this, but we're not using it here). Then, the `cn` utility appends the classes we passed into `className` & then uses\\nAlright, it's looking pretty good! But we want to have an icon above the text, as well. & we should remember that we're dropping the \\\"Create\\\" button & instead making our primary call-to-action the \\\"Upload\\\" button, so we're looking for an upload icon.\\n\\nTo do this, we'll add my favorite icon package, react-icons.\\n\\n`pnpm add react-icons`\\n\\nNow we just have to find the upload icon we want at `https://react-icons.github.io/react-icons/`.\\n\\n& frankly, it's not worth it to spend very long finding the _perfect_ icon because that's a rabbit hole you'll waste a whole day on every time a design decision needs to be made. Just get something close enough, & worry about making it _perfect_ later. When is it 'later'? That's the neat part, it never is!\\n\\nI'll choose the `MdUpload` icon, somewhat arbitrarily.\\n\\nAlright, here's the implementation:\\n\\n```tsx\\n// src/components/browse-action-bar-button.tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\n\\ntype Props = {\\n  children: React.ReactNode;\\n};\\nexport const BrowseActionBarButton = ({ children }: Props) => {\\n  return (\\n    <Button className='flex h-[76px] w-[140px] flex-col items-start justify-center gap-3 rounded-none bg-blue-500 p-[12px] font-semibold hover:bg-blue-600'>\\n      {children}\\n    </Button>\\n  );\\n};\\n```\\n\\n& here's where we're using it:\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex border border-blue-500 p-2'>\\n          <BrowseActionBarButton>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nTo accomodate the icon on top + text on bottom, we switched the button layout to `flex-col`, but other than that we didn't change a whole lot.\\n\\n#### Configuration detour:\\n\\nYou may have a hunch that as Tailwind classNames get long, they get kinda unweildy. First off, how dare you. Secondly, you're absolutely right. That's why I never use Tailwind without class sorting. Now seems about as good a time as any to add that to our project so that we can have our tailwind classes nicely sorted instead of just strewn about haphazardly in the `className`. & for even longer cases, it helps to use the `cn` utility to break up long classNames into separate strings, which I often do to logically separate regular classes from `hover:` pseudoclasses & the like.\\n\\nNow, let's add the config! Since this is a plugin for Prettier, we'll need to have Prettier installed as well. In case you don't already have that - firstly, shame on you. Secondly, boy are you in for a great surprise. Prettier is basically a requirement in all code that I touch because it makes everything properly formatted & standardized with basically zero effort on your part. & because it's so ubiquitous in the realm of coding, that also means you can look at roughly any Javascript codebase that is formatted by Prettier & have a general idea of the 'lay of the land' in a file, even if you may not exactly understand what the code does specifically. It's like being able to read any English book, even if the contents may not be something necessarily understand.\\n\\nAnyway, let's install the dependencies. The instructions I've been using for years have come from https://tailwindcss.com/blog/automatic-class-sorting-with-prettier, but I use pnpm instead of npm:\\n`pnpm add -D prettier prettier-plugin-tailwindcss`\\n\\n& make sure that Prettier is set to format on save. If it's not... I'll write the documentation on that 'later'.\\n\\nNow, save `src/app/test/page.tsx`. Notice that the class sorting did not happen. Sike, that's because we need a `.prettierrc` file. Wow, you should have seen the look on your face.\\n\\nWe can get the `.prettierrc` file we need from the blog post's instructions & place it at the root of our project so we can tell Prettier to actually use the class sorting plugin:\\n\\n```ts\\n// .prettierrc\\n{\\n  \\\"plugins\\\": [\\\"prettier-plugin-tailwindcss\\\"]\\n}\\n```\\n\\nNow, save the file. & voil\xe1, sorted Tailwind classes!\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex border border-blue-500 p-2'>\\n          <BrowseActionBarButton>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nIt's not necessarily a huge deal, but it gets annoying after a while without being able to just say 'okay, I know my Tailwind classes are correct because they're being sorted properly instead of just being thrown at the front of the className string'. It's cleaner code, & it's a quick way to see if you've made a typo in a classname because if you make a typo, such as accidentally writing `p-x-0` instead of `px-0` then it'll throw the misspelled classname at the start of the string. As an example, with no typos you might see:\\n\\n```tsx\\n<div className='flex border border-blue-500 px-2'>\\n```\\n\\nBut if you make a typo & accidentally write `p-x-2` instead of `px-2` you'll see this:\\n\\n```tsx\\n<div className='p-x-2 flex border border-blue-500'>\\n```\\n\\n& you'll think \\\"hey, that's not where padding classes are supposed to go.\\\" & then when you try to get Intellisense to tell you what styles `p-x-2` applies, Intellisense will be like \\\"that doesn't mean anything, bro\\\" & then you'll realize you made a typo & you'll fix it to `px-2` immediately instead of having it crop up as a problem down the line later. Decently convenient stuff.\\n\\nOkay, config detour over!\\n\\nNow that we have a pretty good primary call-to-action button, let's add just a little more styling to account for the fact that most of the buttons here are NOT primary buttons. So we'll just use the `cn` utility for that, & add a boolean prop for `primary` to the button to clarify which styles to use, which is also a great way to demonstrate how useful that `cn` utility is.\\n\\n```tsx\\n// src/components/browse-action-bar-button.tsx\\nimport React from 'react';\\nimport { Button } from '@ui/button';\\nimport { cn } from '@/lib/utils';\\n\\ntype Props = {\\n  primary?: boolean;\\n  children: React.ReactNode;\\n};\\nexport const BrowseActionBarButton = ({ primary = false, children }: Props) => {\\n  return (\\n    <Button\\n      className={cn(\\n        'flex h-[76px] w-[140px] flex-col items-start justify-center gap-3 rounded-none p-[12px] font-semibold',\\n        primary && 'bg-blue-500 hover:bg-blue-600',\\n        !primary && 'border bg-transparent text-white hover:bg-gray-900',\\n      )}\\n    >\\n      {children}\\n    </Button>\\n  );\\n};\\n```\\n\\n& here's where we're using the button to make our primary 'Upload' button & a secondary 'Create folder' button (using the FiFolderPlus icon):\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <BrowseActionBarButton primary>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\n& it more or less looks just like Dropbox!\\n\\nSidenote: Now, the astute of you may be thinking, \\\"wait, aren't the `buttonVariants` primitive styles you're overriding from CVA? & the way you're using `cn` to toggle the `BrowseActionBarButton` `primary` styles looks a lot like how CVA managed `buttonVariants` in the first place. So, then, didn't you kinda just define these new button variants by making a tiny DIY version of CVA on top of CVA?\\\" & to those people I say:\\n\\n_...shhhhhhhhhhhh. This is easier._ We won't use these variants anywhere else, so it's not worth the effort to add them to the `buttonVariants` primitive. But VERY good catch, & how dare you.\\n\\nAnyway! Just for personal preference I think I'll edit the CSS variable for border color so that the border stands out more against our background, though. To make the code a little more concise, I'll just use the relevant field instead of the whole file:\\n\\nchange:\\n\\n```css\\n/* src/app/globals.css */\\n\\n/* ... */\\n@layer base {\\n  /* ... */\\n  .dark {\\n    /* ... */\\n    --border: 217.2 32.6% 17.5%;\\n    /* ... */\\n  }\\n  /* ... */\\n}\\n```\\n\\nto:\\n\\n```css\\n/* src/app/globals.css */\\n\\n/* ... */\\n@layer base {\\n  /* ... */\\n  .dark {\\n    /* ... */\\n    --border: 217.2 10% 30%;\\n    /* ... */\\n  }\\n  /* ... */\\n}\\n```\\n\\nSide note: shadcn/ui uses HSL (hue, saturation, lightness) color values for its colors, which I actually enjoy quite a lot because it reflects far more how my brain works. In my head I saw the border color & thought \\\"I want it to be brighter & more gray\\\", which translated very easily to \\\"decrease the saturation, & make it lighter\\\". Hence, 217.2 (hue) 32.6% (saturation) 17.5% (lightness) turns easily into 217.2 10% 30% without me having to do any math or really critical thinking at all.\\n\\nOkay, & with that the browse-action-bar buttons are styled! However, we're not fully done with them. You may notice that in Dropbox, the 'Upload' button actually has a dropdown menu when clicked:\\n![Upload dropdown](./upload-dropdown.png)\\n\\nSo, to finish up the 'Upload' button, let's add that dropdown menu in. Fortunately, shadcn/ui has a convenient set of primitives for a dropdown menu.\\n\\nLet's once again run the shadcn/ui command to install a new component from the root of our project:\\n`pnpm dlx shadcn-ui@latest add dropdown-menu`\\n\\n& because we are coders that means we don't want to read any more documentation than we have to, so we'll just look at the simplest example at https://ui.shadcn.com/docs/components/dropdown-menu, copy+paste that code, & then modify it to suit our needs. So we start with the copy+pasted code:\\n\\n```tsx\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuLabel,\\n  DropdownMenuSeparator,\\n  DropdownMenuTrigger,\\n} from '@/components/ui/dropdown-menu';\\n\\n<DropdownMenu>\\n  <DropdownMenuTrigger>Open</DropdownMenuTrigger>\\n  <DropdownMenuContent>\\n    <DropdownMenuLabel>My Account</DropdownMenuLabel>\\n    <DropdownMenuSeparator />\\n    <DropdownMenuItem>Profile</DropdownMenuItem>\\n    <DropdownMenuItem>Billing</DropdownMenuItem>\\n  </DropdownMenuContent>\\n</DropdownMenu>;\\n```\\n\\n& since we know we want the 'Upload' dropdown menu to have the options 'File' & 'Folder', let's just change the text in the first 2 `DropdownMenuItem`s & erase everything else inside of the `DropdownMenuContent` primitive.\\n\\n```tsx\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuLabel,\\n  DropdownMenuSeparator,\\n  DropdownMenuTrigger,\\n} from '@/components/ui/dropdown-menu';\\n\\n<DropdownMenu>\\n  <DropdownMenuTrigger>Upload</DropdownMenuTrigger>\\n  <DropdownMenuContent>\\n    <DropdownMenuItem>File</DropdownMenuItem>\\n    <DropdownMenuItem>Folder</DropdownMenuItem>\\n  </DropdownMenuContent>\\n</DropdownMenu>;\\n```\\n\\nAlright, that should be a decent starting point. Now, let's throw that code into our BrowseActionBar, but as a new button just for testing purposes.\\n\\n```tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <BrowseActionBarButton primary>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n          <DropdownMenu>\\n            <DropdownMenuTrigger>Upload</DropdownMenuTrigger>\\n            <DropdownMenuContent>\\n              <DropdownMenuItem>File</DropdownMenuItem>\\n              <DropdownMenuItem>Folder</DropdownMenuItem>\\n            </DropdownMenuContent>\\n          </DropdownMenu>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nCool, it works! It looks funny, but it passes the sanity check.\\n\\nNow, we'll need to figure out a way to make our primary `BrowseActionBarButton` into the `DropdownMenuTrigger`. & while I already know the right way to do this, just for learning purposes we'll try doing it the wrong way to demonstrate how you, as a proud, lazy coder, would figure this out on your own in the real world.\\n\\nNow, we'll first try to most obvious route. We can see that the 'Upload' text we put in the `DropdownMenuTrigger` seems to have been placed inside of the button to trigger the dropdown, so why not just throw our own button in there?\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <BrowseActionBarButton primary>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n          <DropdownMenu>\\n            <DropdownMenuTrigger>\\n              <BrowseActionBarButton primary>\\n                <>\\n                  <MdUpload size={24} />\\n                  Upload\\n                </>\\n              </BrowseActionBarButton>\\n            </DropdownMenuTrigger>\\n            <DropdownMenuContent>\\n              <DropdownMenuItem>File</DropdownMenuItem>\\n              <DropdownMenuItem>Folder</DropdownMenuItem>\\n            </DropdownMenuContent>\\n          </DropdownMenu>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\n& this initial effort seems on the surface work. However, notice that there are 4 issues:\\n\\n1. On page load, the 'Upload' dropdown button has a weird spacing away from the 'Create folder' button that eventually gets corrected, but it shouldn't be happening at all.\\n2. We get a console error - `Warning: In HTML, <button> cannot be a descendant of <button>.\\nThis will cause a hydration error.`\\n3. The dropdown menu is aligned to the center of the trigger, rather than the start. This is sorta a personal preference to be fair, but I don't like it centered. I'll admit, it's subtle, but it still bothers me.\\n4. When opening & closing the dropdown menu without clicking on anything else first, the trigger is autofocused after closing. It looks weird.\\n\\nThese first 2 things are related, & we can solve issue 1 by solving issue 2. So let's focus on that first.\\n\\nWhy is it saying that a `<button>` cannot be a descendant of a `<button>` all of a sudden? The only thing that changed was that we put a button inside of the `DropdownMenuTrigger`, so that gives us a strong hint of where to investigate.\\n\\n& sure enough, when inspecting the DOM at the dropdown button, we see that there is, indeed, now a button within a button.\\n\\n![Button within button](./button-within-button.png)\\n\\nAh, it looks like the `DropdownMenuTrigger` component is, under the hood, just a HOC button like our `BrowseActionBarButton` which wraps whatever child it's given inside of itself. That's why it works just fine when we give it the text 'Upload', even though clearly just the string 'Upload' is not a button. So we've effectively created a HOC button in the `BrowseActionBarButton` component, & then wrapped that in another HOC button in the `DropdownMenuTrigger`. It's button-ception. Arent higher-order components fun?!\\n\\nSo, we have a pretty good idea of what the problem is now. We need to find a way to tell the `DropdownMenuTrigger` \\\"hey, I'm already giving you a button, so please don't wrap it in another button - just attach the functionality you would have put on your wrapper button to my wrapper button instead.\\\"\\n\\n& since we're coders, we're lazy, so we first look to see if shadcn/ui has an example for passing a button to the `DropdownMenuTrigger` in the dropdown-menu documentation.\\n\\n...which it does not. But, even though shadcn/ui doesn't seem to have an example for this, we know that it's built on top of Radix-ui's dropdown-menu primitives. So, we'll look under-the-hood at Radix-ui as our next move. So, we pull up the API reference of the dropdown-menu for Radix-ui (https://www.radix-ui.com/primitives/docs/components/dropdown-menu#api-reference) & look for an example there.\\n\\n...& we don't see one, annoyingly. BUT, even though there isn't a verbatim example we can copy+paste, we DO see that the `Trigger` primitive has a boolean `asChild` prop that we can use to tell the `Trigger` to not wrap the child we pass to it. & if we look at shadcn/ui's implementation of the `DropdownMenu`:\\n\\n```tsx\\n// src/components/ui/dropdown-menu.tsx\\n'use client';\\n\\nimport * as React from 'react';\\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\\n// ...\\n\\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\\n\\n// ...\\n\\nexport {\\n  DropdownMenu,\\n  DropdownMenuTrigger,\\n  // ...\\n};\\n```\\n\\nWe can see that the `DropdownMenuTrigger` primitive we're using is literally just an alias for Radix-ui's `Trigger` dropdown primitive! So, if we pass `asChild` to the `DropdownMenuTrigger` that's the same thing as passing it to the `Trigger`! Neat, sounds promising!\\n\\nSo, let's pass `asChild` to the `DropdownMenuTrigger`:\\n\\n```tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <BrowseActionBarButton primary>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n          <DropdownMenu>\\n            <DropdownMenuTrigger asChild>\\n              <BrowseActionBarButton primary>\\n                <>\\n                  <MdUpload size={24} />\\n                  Upload\\n                </>\\n              </BrowseActionBarButton>\\n            </DropdownMenuTrigger>\\n            <DropdownMenuContent>\\n              <DropdownMenuItem>File</DropdownMenuItem>\\n              <DropdownMenuItem>Folder</DropdownMenuItem>\\n            </DropdownMenuContent>\\n          </DropdownMenu>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\n& eureka, issues 1 & 2 are solved! Now let's look at issue 3, to change the alignment of the dropdown content.\\n\\nTurns out, that's actually extremely simple. Radix-ui provides an `align` prop to the `Content` primitive that is set to `center` by default, but is an enum which can also be set to `start` or `end`. & upon looking back at shadcn/ui's `DropdownMenu` implementation, we see as well that the `DropdownMenuContent` primitive is just an alias for the `Content` primitive. So, let's pass `align='start'` to the `DropdownMenuContent` primitive!\\n\\nWe'll modify our `DropdownMenu` as such:\\n\\n```tsx\\n<DropdownMenu>\\n  <DropdownMenuTrigger asChild>\\n    <BrowseActionBarButton primary>\\n      <>\\n        <MdUpload size={24} />\\n        Upload\\n      </>\\n    </BrowseActionBarButton>\\n  </DropdownMenuTrigger>\\n  <DropdownMenuContent align='start'>\\n    <DropdownMenuItem>File</DropdownMenuItem>\\n    <DropdownMenuItem>Folder</DropdownMenuItem>\\n  </DropdownMenuContent>\\n</DropdownMenu>\\n```\\n\\n& boom, dropdown content is now aligned to the start of the trigger. Now, we only have problem 4 remaining. & I'm gonna be honest, this feels like it might be an accessibility thing & we might be jerks if we remove the highlighting - so we'll do a little research but we won't press too hard on that. Especially since it doesn't highlight it if we click on literally anything else before or after clicking on the button. But still, worth a look. & since we're proud lazy coders, we will expend a lot of effort do read anything other than the documentation - so you know what that means, it's time to search for key words in the [issues tab of Radix-ui's `primitives` Github repo!](https://github.com/radix-ui/primitives/issues)\\n\\nSo, we'll search for the terms 'dropdown focus' & see what comes up. & ooo, this issue seems relevant! [Dropdown Menu: Allow disabling autofocus of the Trigger based on the event](https://github.com/radix-ui/primitives/issues/2682)\\n\\nNow, when reading through a Github issue, you typically read 2 parts. First, you read the start to see if they are having the same you're having.\\n\\nHere's a snippet from the first post:\\n\\n`Allow disabling the autofocus of the Dropdown Menu Trigger on menu close, based on the event.\\nI want to prevent autofocus of the Trigger in cases the menu is closed by a mouse event, but cannot do that cause the event argument in the onCloseAutoFocus is a CustomEvent which does not points to the original event.\\nAutofocus of the Trigger is great only when the menu is closed by a keyboard event.`\\n\\n`Examples in other libraries`\\n\\n`I haven't used similar libraries, but can give you an example of web apps where this behavior is implemented:`\\n\\n`Gmail & Google top right buttons: avatar & apps. They all get focus when the popup is closed by Esc, but they do not gain focus when the popup is closed by clicking outside.`\\n\\n`Facebook top right buttons: avatar & notifications.`\\n\\n`Reddit top right buttons: avatar`\\n\\nHeck yeah, that sounds like exactly what we're talking about! & even better, it's a resolved issue! Now let's fast-forward to the end & see if there's a solution we can use.\\n\\nThe last post has this very interesting text:\\n\\n`This is true for non-modal layers and our primitives work the same way when modal={false} is passed, ie. if you click outside to dismiss we don't autofocus in this case, and let the natural focus behaviour happen.`\\n\\nThere's a `modal` prop we can set to `false`, eh? Sounds like a keyword to me! Now we can go back to the Radix-ui dropdown-menu documentation & search for the `modal` prop.\\n\\nLooks like we have a hit! There's a `modal` prop on the `Root` primitive, which is `true` by default. Looks like it's some kind of accessibility feature... but since we have many examples of dropdown menus that don't autofocus on closing with a mouse & even the Dropbox button we're mocking doesn't autofocus on close, it seems safe to set that prop to false. Let's try it.\\n\\nIt looks like the `DropdownMenu` primitive is an alias for the `Root` primitive, so we'll set the `modal` prop to `false` there.\\n\\n```tsx\\n<DropdownMenu modal={false}>\\n  <DropdownMenuTrigger asChild>\\n    <BrowseActionBarButton primary>\\n      <>\\n        <MdUpload size={24} />\\n        Upload\\n      </>\\n    </BrowseActionBarButton>\\n  </DropdownMenuTrigger>\\n  <DropdownMenuContent align='start'>\\n    <DropdownMenuItem>File</DropdownMenuItem>\\n    <DropdownMenuItem>Folder</DropdownMenuItem>\\n  </DropdownMenuContent>\\n</DropdownMenu>\\n```\\n\\nEureka, it works perfectly! & it's still completely possible to use with just keyboard input & it even still autofocuses after closing the menu with the `ESC` key. So since it's still pretty keyboard-friendly even with `modal` set to false, what exactly did the `modal` prop specifically do? I have no idea. & for the time being, it seems like we'll not have to care. If Dropbox can do it, so can we.\\n\\nNow that our dropdown menu works perfectly, let's replace the original button with it so we don't have duplicate 'Upload' buttons.\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <DropdownMenu modal={false}>\\n            <DropdownMenuTrigger asChild>\\n              <BrowseActionBarButton primary>\\n                <>\\n                  <MdUpload size={24} />\\n                  Upload\\n                </>\\n              </BrowseActionBarButton>\\n            </DropdownMenuTrigger>\\n            <DropdownMenuContent align='start'>\\n              <DropdownMenuItem>File</DropdownMenuItem>\\n              <DropdownMenuItem>Folder</DropdownMenuItem>\\n            </DropdownMenuContent>\\n          </DropdownMenu>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nGreat, it's all looking good! Now the only thing I feel might be important to add is to give each `DropdownMenuItem` an icon, & make the cursor into a pointer on hover. We'll go the same route as before of picking icons from `react-icons`. & with some small styling changes by adding classnames to the `DropdownMenuItem` primitives, we get:\\n\\n```tsx\\n// src/app/test/page.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  MdOutlineDriveFolderUpload,\\n  MdOutlineUploadFile,\\n} from 'react-icons/md';\\n\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <div className='flex gap-[20px] border border-blue-500 p-2'>\\n          <DropdownMenu modal={false}>\\n            <DropdownMenuTrigger asChild>\\n              <BrowseActionBarButton primary>\\n                <>\\n                  <MdUpload size={24} />\\n                  Upload\\n                </>\\n              </BrowseActionBarButton>\\n            </DropdownMenuTrigger>\\n            <DropdownMenuContent align='start'>\\n              <DropdownMenuItem className='cursor-pointer gap-2'>\\n                <>\\n                  <MdOutlineUploadFile size={20} />\\n                  File\\n                </>\\n              </DropdownMenuItem>\\n              <DropdownMenuItem className='cursor-pointer gap-2'>\\n                <>\\n                  <MdOutlineDriveFolderUpload size={20} />\\n                  Folder\\n                </>\\n              </DropdownMenuItem>\\n            </DropdownMenuContent>\\n          </DropdownMenu>\\n          <BrowseActionBarButton>\\n            <>\\n              <FiFolderPlus size={24} />\\n              Create folder\\n            </>\\n          </BrowseActionBarButton>\\n        </div>\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\n& it looks gorgeous! & since we don't actually have any more buttons that would be relevant to our feature set, I'd say we're at a point where we can stick with those 2 buttons & move on.\\n\\n& frankly, I think I'm decently satisfied with our progress so let's promote the whole page from the `/test` route to the `/` route. & with the app router, that's as easy as just dragging & dropping the page.tsx file into `src/app` & overwriting the placeholder page.tsx from our first sanity check! & to finish off the move, we'll delete the old `src/app/test` directory, as we don't need it anymore. Now we find our nice page right where it belongs, at the base url.\\n\\nThe only thing I'd like to do left before moving on is abstracting the entire browse action bar into one component, then importing that by itself so that the page.tsx file is shorter & there's a better separation of concerns. So, we'll make a new file - `src/components/browse-action-bar.tsx`, & move over all the relevant imports:\\n\\n```tsx\\n// src/components/browse-action-bar.tsx\\nimport { BrowseActionBarButton } from '@/components/browse-action-bar-button';\\nimport { MdUpload } from 'react-icons/md';\\nimport { FiFolderPlus } from 'react-icons/fi';\\nimport {\\n  MdOutlineDriveFolderUpload,\\n  MdOutlineUploadFile,\\n} from 'react-icons/md';\\n\\nimport {\\n  DropdownMenu,\\n  DropdownMenuContent,\\n  DropdownMenuItem,\\n  DropdownMenuTrigger,\\n} from '@ui/dropdown-menu';\\n\\nexport const BrowseActionBar = () => {\\n  return (\\n    <div className='flex gap-[20px] border border-blue-500 p-2'>\\n      <DropdownMenu modal={false}>\\n        <DropdownMenuTrigger asChild>\\n          <BrowseActionBarButton primary>\\n            <>\\n              <MdUpload size={24} />\\n              Upload\\n            </>\\n          </BrowseActionBarButton>\\n        </DropdownMenuTrigger>\\n        <DropdownMenuContent align='start'>\\n          <DropdownMenuItem className='cursor-pointer gap-2'>\\n            <>\\n              <MdOutlineUploadFile size={20} />\\n              File\\n            </>\\n          </DropdownMenuItem>\\n          <DropdownMenuItem className='cursor-pointer gap-2'>\\n            <>\\n              <MdOutlineDriveFolderUpload size={20} />\\n              Folder\\n            </>\\n          </DropdownMenuItem>\\n        </DropdownMenuContent>\\n      </DropdownMenu>\\n      <BrowseActionBarButton>\\n        <>\\n          <FiFolderPlus size={24} />\\n          Create folder\\n        </>\\n      </BrowseActionBarButton>\\n    </div>\\n  );\\n};\\n```\\n\\nRemember, we're using `rafc` to generate a React snippet for a new component with a named export. We're using a named export for no reason other than I personally like working with named exports more. Now let's just import that new abstracted component into our base page.tsx:\\n\\n```tsx\\nimport { BrowseActionBar } from '@/components/browse-action-bar';\\n\\nconst Page = () => {\\n  return (\\n    <div className='flex h-full border-4 border-blue-600'>\\n      <div className='w-[240px] border-4'>SIDEBAR</div>\\n      <div className='flex-1 flex-col border-4'>\\n        <BrowseActionBar />\\n        MAIN CONTENT\\n      </div>\\n    </div>\\n  );\\n};\\n\\nexport default Page;\\n```\\n\\nGorgeous. Time to move on & pick the next part to build. Offhand, I feel the next 2 obvious options would be either the main file browser or the `Folders` file browser in the sidebar. & because the main file browser is going to be way harder, I choose the sidebar browser.\\n\\nLet's go!\"}]}")}}]);